<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>153</title>
    <script></script>
  </head>
  <body>
    <!-- Content -->
    <center>
    <h1>
        Seabass Language Reference
    </h1>
    <hr>
    <img src="../logo.png" alt="logo" style="width:100%">
    </center>
    <hr>
    <!-- Index-->
    <div style="margin-left:10%;">
        <a href="../index.html">Main page</a><br>
    </div>
    <hr>
    <div style="margin-left:10%;">
        <a href="#compilationoverview">Compilation Overview</a><br>
        <a href="#format">File Formats and Extensions</a><br>
        <a href="#tokenization">Tokenization</a><br>
        <a href="#preprocessing">Tokenization</a><br>
        <a href="#parsing">Tokenization</a><br>
        <a href="#grammar">Grammar</a><br>
        <a href="#codegen">Codegen Execution Environment</a><br>
        <a href="#license">License</a><br>
    </div>
    <hr>
    <p>
        Welcome, beloved.
        <br><i>Saying, Blessed are they whose iniquities are forgiven, and whose sins are covered.</i> - Romans 4:7
    </p>
    <p>This is a (somewhat) formal specification of the SEABASS programming language.</p>
    <hr>
    <center>
    <h3>All Glory to the Lord Jesus Christ, who is, and who was, and who is to come, for ever. Amen.</h3>
    </center>
        <hr>
    <center>
    <h2 id="compilationoverview">Compilation Overview</h2>
    </center>
    <hr>
    <p>A valid seabass program shall be comprised of a set of byte-files on a storage medium. A "main file" is passed by-name to the compiler. This file is tokenized and #includes are handled recursively pasting-in token sequences in place of #include.</p>
    <p>After tokenization of all these files is completed, all tokens are "preprocessed" which includes performing #define replacements, transforming string literals, and turning character literals into decimal integer literals.</p>
    <p>Once preprocessing is finished, the translation unit is passed to the main parser. the main parser consumes tokens, producing an AST that represents the structure of the translation unit. This AST must be of a standard-conforming structure and a "reflection library" must be provided. As parsing occurs, the translation unit may invoke a "codegen function" (A special type of previously parsed function in the unit). Codegen functions are given access to the internal structure of the parsed unit (with the exclusion of already-parsed codegen functions, which may be in an implementation-defined format optimized for execution) as well as a variety of "builtin" functions to manipulate the state of the compiler, access the host filesystem, and interact with text terminal input/output. These codegen functions may call other codegen functions and access already-parsed and defined codegen symbols. Codegen functions may read the contents of files from disk and write to files on the disk.</p>
    <p>When a main-parser-called codegen function returns, control returns to the parser and it continues parsing.</p>
    <p>After parsing is finished, the compiler shall search for a codegen function in the unit called "codegen_main" and call it. If it cannot be found, the compiler may perform some safe implementation-defined behavior, such as printing out the parsed AST or emitting an error.</p>
    <p>The following discrete parts of compilation are defined:</p>
    <ol>
        <li>File Scanning and Tokenization</li>
        <li>Preprocessing</li>
        <li>Parsing</li>
        <li>codegen_main invocation</li>
    </ol>
    <p></p>
    <hr>
    <center>
    <h2 id="format">File Formats and Extensions</h2>
    </center>
    <hr>
    <p>The following file extensions should be used for Seabass source code:</p>
    <p><code>.cbas</code> - a main source code file.</p>
    <p><code>.hbas</code> - a header to be included in the translation unit using #include.</p>
    <p><code>(none)</code> - For system library headers.</p>
    <p>Seabass source code files are to be ASCII only. No null bytes, or bytes greater than 127 (0x00, 0x7F) may appear.</p>
    <p>Individual lines of source code are to be terminated with `\n` (Ascii 0xA).</p>
    <hr>
    <center>
    <h2 id="tokenization">Tokenization</h2>
    </center>
    <hr>
    <p>Seabass programs are tokenized into a linked list of tokens. The list of tokens is as follows:</p>
    <ol>
        <li>whitespace (all non-newline space characters)</li>
        <li>newlines. Character sequences include \r\n, \n\r, and \n.</li>
        <li>string literals. C-style, but may be multi-line.</li>
        <li>character literals. C-style,</li>
        <li>comments. Either C style (<code>/*text*/</code>) or C++ style (<code>//text\n</code>)</li>
        <li>integer constants. These may be octal (starting with 0) or decimal (not starting with 0) or hex (prefixed by 0x or 0X, followed by a sequence of zero or more hexidecimal digits, 0123456789ABCDEFabcdef where 0xA == 0xa == 0x9+0x1)</li>
        <li>Floating point constants. C-style. These are valid:        
        <pre><code>
        1e3
        1e-3
        1.0e-3
        0.e-3
        0.0e-3
        1024.04567e29
        09937.04567e-28
        934.e21
        </code></pre>
        Note that all floating point constants are decimal.
        </li>
        <li>identifiers. Begin with an underscore or alphabetical character, followed by underscores, alphabetic characters, or numbers. C-style identifier rules.<br>
        These are all valid identifiers:
        <pre><code>
        _
        a
        b
        i
        __
        _a
        _b23
        a___29
        myphonenumber
        not_a_number
        five_is_5_and_nine_is_9
        </code></pre>
        But these are not:
        <pre><code>
        1_          //integer literal '1' followed by identifier '_'
        37waystodie //integer literal 37 followed by identifier 'waystodie'
        2           //decimal constant
        0xhello!    //hex literal '0x', identifier 'hello', operator '!'
        </code></pre>        
        </li>
        <li>operators. One of these sequences (equivalent operators are listed on the same line, comma separated):
    
    <pre><code>
    ++
    --
    :=
    :
    <=
    <
    >=
    >
    != , neq
    == , === , eq
    ->
    .&
    &
    &&
    |
    ||
    >>
    <<
    ~
    !
    .
    &
    *
    +
    -
    /
    %
    ^
    |
    ?
    =
    @
    streq
    strneq
    </code></pre>
    Note that it is NOT valid to simply replace operators with equivalent ones.<br>
    Also note that comma IS NOT an operator.
    </li>
        <li>the opening curly brace <code>{</code></li>
        <li>the closing curly brace <code>}</code></li>
        <li>the opening parenthesis <code>(</code></li>
        <li>the closing parenthesis <code>)</code></li>
        <li>the opening square bracket <code>[</code></li>
        <li>the closing square bracket <code>]</code></li>
        <li>semicolon <code>;</code></li>
        <li>"unknown" symbols (anything not mentioned in this document)</li>
        <li>keywords, which are always valid identifiers. "Equivalent" keywords are
        separated by hyphens:
    <pre><code>
    fn - function - func - procedure - proc
    cast
    u8 - char - uchar - byte - ubyte
    i8 - schar - sbyte
    u16 - ushort
    i16 - short - sshort
    u32 - uint - ulong
    i32 - int - sint - long - slong
    u64 - ullong - qword - uqword - uptr
    i64 - llong - sllong - sqword
    f32 - float
    f64 - double
    noexport
    break
    data
    string
    end
    continue
    if
    elif - elseif
    else
    while
    for
    goto - jump
    switch
    return
    tail
    sizeof
    static
    pub - public
    predecl
    struct - class
    union
    method
    codegen
    constexpri
    constexprf
    pure
    inline
    atomic
    volatile
    getfnptr
    callfnptr
    getglobalptr
    asm
    </code></pre>
    Note that it is NOT valid to simply replace all instances of a keyword with
    an "equivalent" keyword.
        
        </li>
        <li>Escaped newlines. <code>\</code> followed by a newline sequence.</li>
        <li>Comma. <code>,</code></li>
        <li>the hashtag symbol/pound sign, <code>#</code></li>
        <li>The 'incsys'- a sequence of characters after '#include' beginning with a left angle bracket and terminated by a right angle bracket, as in <code>#include &ltfile.hbas&gt</code></li>
        <li><code>#include</code> (single token)</li>
        <li><code>#define</code> (single token)</li>
        <li><code>#undef</code> (single token)</li>
        <li><code>#guard</code> (single token)</li>
    </ol>
    <p>Whitespace, newline, escaped newline, #include, #define, #undef, and incsys shall be handled properly and removed from the token sequence during preprocessing. None of these sequences shall ever reach the parser, or it is <i>undefined behavior</i>. Character literals shall be converted to decimal integer literals, and shall not reach the parser, or it is <i>undefined behavior</i>.</p>
    <p></p>
    <hr>
    <center>
    <h2 id="preprocessing">Pre-processing</h2>
    </center>
    <hr>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <hr>
    <center>
    <h2 id="parsing">Parsing</h2>
    </center>
    <hr>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <hr>
    <center>
    <h2 id="grammar">Grammar</h2>
    </center>
    <hr>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    <hr>
    <center>
    <h2 id="codegen">Codegen execution environment</h2>
    </center>
    <hr>
    <p></p>
    <p></p>
    <p></p>
    <p></p>
    
    <hr>
    <center>
    <h2 id="license">License</h2>
    </center>
    <hr>
    <pre>
    Statement of Purpose
    
    The laws of most jurisdictions throughout the world automatically confer 
    exclusive Copyright and Related Rights (defined below) upon the creator 
    and subsequent owner(s) (each and all, an "owner") of an original work 
    of authorship and/or a database (each, a "Work").
    
    Certain owners wish to permanently relinquish those rights to a Work for the
    purpose of contributing to a commons of creative, cultural and scientific works
    ("Commons") that the public can reliably and without fear of later claims of
    infringement build upon, modify, incorporate in other works, reuse and redistribute
    as freely as possible in any form whatsoever and for any purposes, including
    without limitation commercial purposes. These owners may contribute to the
    Commons to promote the ideal of a free culture and the further production of
    creative, cultural and scientific works, or to gain reputation or greater
    distribution for their Work in part through the use and efforts of others.
    
    For these and/or other purposes and motivations, and without any expectation of
    additional consideration or compensation, the person associating CC0 with a
    Work (the "Affirmer"), to the extent that he or she is an owner of Copyright
    and Related Rights in the Work, voluntarily elects to apply CC0 to the Work and
    publicly distribute the Work under its terms, with knowledge of his or her
    Copyright and Related Rights in the Work and the meaning and intended legal effect of CC0 on those rights.
    
    1. Copyright and Related Rights. A Work made available under CC0 may be
    protected by copyright and related or neighboring rights
    ("Copyright and Related Rights"). Copyright and Related Rights include, but
    are not limited to, the following:
    
    the right to reproduce, adapt, distribute, perform, display, communicate, and translate a Work;
    moral rights retained by the original author(s) and/or performer(s);
    publicity and privacy rights pertaining to a person's image or likeness depicted in a Work;
    rights protecting against unfair competition in regards to a Work, subject to the limitations in paragraph 4(a), below;
    rights protecting the extraction, dissemination, use and reuse of data in a Work;
    database rights (such as those arising under Directive 96/9/EC of the European Parliament and of the
    Council of 11 March 1996 on the legal protection of databases, and under any national implementation
    thereof, including any amended or successor version of such directive); and other similar, 
    equivalent or corresponding rights throughout the world based on applicable law or treaty,
    and any national implementations thereof.
    2. Waiver. To the greatest extent permitted by, but not in contravention of, applicable law,
    Affirmer hereby overtly, fully, permanently, irrevocably and unconditionally waives, abandons, and
    surrenders all of Affirmer's Copyright and Related Rights and associated claims and causes of action,
    whether now known or unknown (including existing as well as future claims and causes of action),
    in the Work (i) in all territories worldwide, (ii) for the maximum duration provided by applicable
    law or treaty (including future time extensions), (iii) in any current or future medium and for any
    number of copies, and (iv) for any purpose whatsoever, including without limitation commercial,
    advertising or promotional purposes (the "Waiver"). Affirmer makes the Waiver for the benefit of each
    member of the public at large and to the detriment of Affirmer's heirs and successors, fully intending
    that such Waiver shall not be subject to revocation, rescission, cancellation, termination, or any other
    legal or equitable action to disrupt the quiet enjoyment of the Work by the public as contemplated by
    Affirmer's express Statement of Purpose.
    
    3. Public License Fallback. Should any part of the Waiver for any reason be judged legally invalid or
    ineffective under applicable law, then the Waiver shall be preserved to the maximum extent permitted
    taking into account Affirmer's express Statement of Purpose. In addition, to the extent the Waiver is
    so judged Affirmer hereby grants to each affected person a royalty-free, non transferable, 
    non sublicensable, non exclusive, irrevocable and unconditional license to exercise Affirmer's 
    Copyright and Related Rights in the Work (i) in all territories worldwide, (ii) for the maximum 
    duration provided by applicable law or treaty (including future time extensions), (iii) in any current 
    or future medium and for any number of copies, and (iv) for any purpose whatsoever, including without 
    limitation commercial, advertising or promotional purposes (the "License"). The License shall be deemed 
    effective as of the date CC0 was applied by Affirmer to the Work. Should any part of the License for any 
    reason be judged legally invalid or ineffective under applicable law, such partial invalidity or 
    ineffectiveness shall not invalidate the remainder of the License, and in such case Affirmer hereby 
    affirms that he or she will not (i) exercise any of his or her remaining Copyright and Related Rights 
    in the Work or (ii) assert any associated claims and causes of action with respect to the Work, 
    in either case contrary to Affirmer's express Statement of Purpose.
    
    4. Limitations and Disclaimers.
    
    No trademark or patent rights held by Affirmer are waived, abandoned, surrendered, licensed
    or otherwise affected by this document.
    Affirmer offers the Work as-is and makes no representations or warranties of any kind 
    concerning the Work, express, implied, statutory or otherwise, including without limitation 
    warranties of title, merchantability, fitness for a particular purpose, non infringement,
    or the absence of latent or other defects, accuracy, or the present or absence of errors, 
    whether or not discoverable, all to the greatest extent permissible under applicable law.
    Affirmer disclaims responsibility for clearing rights of other persons that may apply to 
    the Work or any use thereof, including without limitation any person's Copyright and Related 
    Rights in the Work. Further, Affirmer disclaims responsibility for obtaining any necessary consents, 
    permissions or other rights required for any use of the Work.
    Affirmer understands and acknowledges that Creative Commons is not a party to this document and has 
    no duty or obligation with respect to this CC0 or use of the Work.
    
    </pre>
    <p></p>
  </body>
</html>


